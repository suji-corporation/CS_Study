## **SSL과 TLS**

**TLS(Transport Layer Security)** 는 **SSL(Secure Socket Layer)** 의 상위 버전 표현이라고 할 수 있다. SSL은 SSL 1.0부터 시작해 SSL 2.0, SSL 3.0, TLS 1.0, TLS 1.3까지 버전 업데이트가 되면서 SSL의 명칭이 TLS로 변경된 것이다. 이 포스트에서는 TLS 3.0을 기반으로 설명하며 명칭은 TLS로 통일한다.

TLS는 전송계층에서 보안을 제공하는 프로토콜이다. HTTPS 통신 시 주로 사용되며, 클라이언트와 서버가 통신할 때 TLS를 통해 제3자가 메시지를 도청하거나 위조, 변조하지 못하도록 한다.

TLS는 다음과 같은 기능 및 역할을 가진다.

-   **암호화**: 제3자와 주고받는 데이터를 숨김
-   **인증**: 통신의 대상이 신뢰할 수 있는 요청된 당사자임을 보장 (신원 확인)
-   **무결성**: 데이터가 위조되거나 변조되지 않았는지 확인

</br></br>

## **TLS 핸드쉐이크**

-   클라이언트와 서버가 데이터를 주고 받기 전 서버의 무결성과 신원을 확인하고, 대칭키를 전달하기까지의 과정
-   사용자가 TLS를 사용하는 웹사이트를 접속하면 클라이언트와 웹 서버간에 TLS Handshake가 시작  
    -   사용할 TLS 버전 지정
    -   사용할 암호 제품군(사이퍼슈트) 결정
    -   서버는 공개키로 TLS 인증서 발급 
    -   클라이언트는 서버의 TLS 인증서를 사용하여 서버의 신원 인증
    -   메시지 암호화를 위한 세션 키 생성/전달

</br>

### **TLS Handshake  진행과정 - TLS 1.3**

![image](https://user-images.githubusercontent.com/64777557/217748950-d243212a-fa02-4844-a337-8dd22abb4543.png)

-   **Client Hello**
    -   클라이언트는 서버와의 연결을 위해 TLS버전, 사이퍼슈트(암호 제품군 알고리즘 집합), 클라이언트 랜덤값, 임시 DH 매개변수(대칭키 생성 알고리즘)를 담은 패킷 전송
-   **Server Hello**, EncryptedExtensions, **Certificate**, CertificateVerify 
    -   서버는 클라이언트가 보낸 Client Hello 패킷에서 TLS 버전 식별과 사이퍼슈트 선택
    -   자신의 공개키가 포함된 TLS인증서, 서버 랜덤값, 임시 DH 매개변수를 담아 전송
    -   클라이언트와 서버가 서로 교환한 DH 매개변수를 사용하여 임시 암호 키인 세션키(대칭키) 생성
-   **Finished**
    -   클라이언트와 서버는 세션키를 기반으로 암호화된 통신 시작
    
