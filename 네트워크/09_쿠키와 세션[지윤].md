## **μΏ ν‚¤(Cookie)**

-   **κ°λ…**
    -   ν΄λΌμ΄μ–ΈνΈ λ΅μ»¬ μ¤ν† λ¦¬μ§€μ— μ €μ¥λλ” ν‚¤(key)μ™€ κ°’(value)μ΄ λ“¤μ–΄μλ” νμΌ
    -   ν΄λΌμ΄μ–ΈνΈμ μƒνƒ μ •λ³΄λ¥Ό λΈλΌμ°μ €μ— μ €μ¥ν•μ—¬ μ°Έμ΅°
    -   μ•„μ΄λ””/λΉ„λ°€λ²νΈ μ €μ¥, μ‡Όν•‘λ° μ¥λ°”κµ¬λ‹ λ“±μ— μ‚¬μ©
-   **κµ¬μ„± μ”μ†**
    -   μΏ ν‚¤μ μ΄λ¦„ (name)
    -   μΏ ν‚¤μ κ°’ (value)
    -   μΏ ν‚¤μ λ§λ£ μ‹κ°„ (Expires)
    -   μΏ ν‚¤λ¥Ό μ „μ†΅ν•  λ„λ©”μΈ μ΄λ¦„ (Domain)
    -   μΏ ν‚¤λ¥Ό μ „μ†΅ν•  κ²½λ΅ (Path)
    -   λ³΄μ• μ—°κ²° μ—¬λ¶€ (Secure)
    -   HttpOnly μ—¬λ¶€ (HttpOnly)
-   **λ™μ‘ λ°©μ‹**

<img src="https://user-images.githubusercontent.com/64777557/218026490-e6af3986-ba2f-42b7-84fe-1fbf15167d2f.png" width=800>


1.  ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)κ°€ μ„λ²„μ—κ² μ”μ²­
2.  μ„λ²„λ” μƒνƒλ¥Ό μ μ§€ν•κ³  μ‹¶μ€ λ°μ΄ν„°(user)λ¥Ό μΏ ν‚¤λ΅ μƒμ„±
3.  μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µμ„ λ³΄λ‚Ό λ• HTTPν—¤λ”(set-cookie)μ— μΏ ν‚¤λ¥Ό ν¬ν•¨ν•μ—¬ μ „μ†΅ \[set-cookie: user=jiyun\]
4.  μ „λ‹¬ λ°›μ€ μΏ ν‚¤λ” ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—μ„ κ΄€λ¦¬ν•λ‹¤κ°€ λ‹¤μ‹ μ„λ²„μ— μ”μ²­ μ‹ ν•΄λ‹Ή μΏ ν‚¤λ¥Ό HTTPν—¤λ”μ— λ„£μ–΄ μ „μ†΅ \[cookie: user=jiyun\]
5.  μ„λ²„λ” μΏ ν‚¤ μ •λ³΄λ¥Ό μ½κ³  μƒνƒ μ •λ³΄λ¥Ό ν™•μΈν• ν›„ μ‘λ‹µ

</br></br>

## **μ„Έμ…(Session)**

-   **κ°λ…**
    -   μΌμ • μ‹κ°„λ™μ• κ°™μ€ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ“¤μ–΄μ¤λ” μ”μ²­μ„ ν•λ‚μ μƒνƒλ΅ λ³΄κ³  κ·Έ μƒνƒλ¥Ό μ μ§€ν•λ” κΈ°μ 
    -   μ›Ή λΈλΌμ°μ €λ¥Ό ν†µν•΄ μ„λ²„μ— μ ‘μ†ν• μ΄ν›„λ¶€ν„° λΈλΌμ°μ €κ°€ μΆ…λ£λ  λ•κΉμ§€ μ μ§€
    -   λ΅κ·ΈμΈκ³Ό κ°™μ€ λ³΄μ•μƒ μ¤‘μ”ν• μ‘μ—… μν–‰ μ‹ μ‚¬μ©
-   **λ™μ‘ λ°©μ‹**

<img src="https://user-images.githubusercontent.com/64777557/218026528-3db55fe3-f095-4b6b-9cbd-6ac7cd35f5eb.png" width=800>


1.  ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)κ°€ μ„λ²„μ— μ”μ²­
2.  μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ κµ¬λ¶„μ„ μ„ν•΄ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ— μ μΌν• μ„Έμ… IDλ¥Ό λ¶€μ—¬
3.  μ„λ²„κ°€ μ‘λ‹µ μ‹ HTTPν—¤λ”(set-cookie)μ— μ„Έμ… IDλ¥Ό ν¬ν•¨ν•΄μ„ μ „μ†΅ \[set-cookie: sessionId:x1r2fjc0\]
4.  ν΄λΌμ΄μ–ΈνΈλ” μ„Έμ… IDμ— λ€ν• μ •λ³΄λ¥Ό μΏ ν‚¤λ΅ κ΄€λ¦¬
5.  μ΄ν›„ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—μ„ μ„λ²„λ΅ μ”μ²­ μ‹ μ„Έμ… IDκ°€ λ‹΄κ²¨μλ” μΏ ν‚¤λ¥Ό HTTPν—¤λ”μ— λ„£μ–΄ μ „μ†΅ \[cookie: sessionId:x1r2fjc0\]
6.  μ„λ²„λ” μ„Έμ… IDλ¥Ό ν™•μΈν• ν›„ μ”μ²­μ„ μ²λ¦¬

</br></br>

## **μΏ ν‚¤(Cookie) VS μ„Έμ…(Session)**

| Β  | μΏ ν‚¤(Cookie) | μ„Έμ…(Session) |
| --- | --- | --- |
| μ €μ¥ μ„μΉ | ν΄λΌμ΄μ–ΈνΈ (μ ‘μ†μ PC λΈλΌμ°μ €) | μ›Ή μ„λ²„ |
| μ €μ¥ ν•μ‹ | text | Object |
| λ§λ£ μ‹μ  (λΌμ΄ν”„μ‚¬μ΄ν΄) | μΏ ν‚¤ μ €μ¥ μ‹ μ„¤μ •   ( λΈλΌμ°μ €κ°€ μΆ…λ£λμ–΄λ„ λ§λ£κΈ°κ°„μ΄ λ‚¨μ•„μλ‹¤λ©΄ μ‚­μ λμ§€ μ•μ) | λΈλΌμ°μ € μΆ…λ£ μ‹ μ‚­μ    (λ§λ£κΈ°κ°„μ„ μ„¤μ •ν•  μ μμ§€λ§ λΈλΌμ°μ € μΆ…λ£ μ‹ μ΄μ™€ μƒκ΄€μ—†μ΄ μ‚­μ ) |
| μ‚¬μ©ν•λ” μμ›(λ¦¬μ†μ¤) | ν΄λΌμ΄μ–ΈνΈ λ¦¬μ†μ¤ | μ›Ή μ„λ²„ λ¦¬μ†μ¤ |
| μ©λ‰ μ ν• | μ΄ 300κ° / ν• λ„λ©”μΈ λ‹Ή 20κ° / ν• μΏ ν‚¤ λ‹Ή 4KB | μ„λ²„κ°€ ν—μ©ν•λ” ν• μ©λ‰ μ ν• μ—†μ |
| μ†λ„ | ν΄λΌμ΄μ–ΈνΈμ— μ €μ¥λμ–΄ λΉ λ¦„ | μ„λ²„κ°€ μ²λ¦¬ν•μ—¬ μΏ ν‚¤λ³΄λ‹¤ λλ¦Ό |
| λ³΄μ• | λ¨λ“  μ •λ³΄κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ μ €μ¥λμ–΄ λ³΄μ•μ— μ·¨μ•½ | ν΄λΌμ΄μ–ΈνΈμ—λ” μ„Έμ…IDλ§ μ €μ¥ν•μ—¬ λ³΄μ•μ„±μ΄ μΆ‹μ |

</br>

**β€» μ„Έμ…μ΄ λ³΄μ• μ°¨μ›μ—μ„λ„ μΆ‹μ€λ° μΏ ν‚¤λ¥Ό μ‚¬μ©ν•λ” μ΄μ **

Β  μ„Έμ…μ€ μ„λ²„μ μμ›μ„ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— λ„λ¬΄ λ§μ΄ λ§λ“¤κ±°λ‚ μ‚¬μ©μκ°€ λ§μ•„μ§ κ²½μ° μ„λ²„μ λ©”λ¨λ¦¬κ°€ κ°λ‹Ήν•  μ μ—†μ–΄μ§€κ³  μ΄μ— λ”°λΌ μ†λ„κ°€ λλ ¤μ§ μ μλ‹¤.
  
 </br></br>
  
  ## **ν† ν°(Token) κΈ°λ° μΈμ¦**

-   ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ† μ‹ μ„λ²„μ—μ„ ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈμ—κ² μΈμ¦μ μλ―Έλ΅ 'ν† ν°'μ„ λ¶€μ—¬ -> **μΈμ¦(Authentication)**
-   ν΄λΌμ΄μ–ΈνΈλ” λ λ‹¤μ‹ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚Ό λ• λ°κΈ‰λ°›μ€ ν† ν°μ„ μ”μ²­ ν—¤λ”μ— μ‹¬μ–΄ μ „μ†΅
-   μ„λ²„λ” ν—¤λ” λ‚΄ ν† ν°μ„ μ—΄μ–΄ μμ‹ μ΄ μ κ³µν• ν† ν°μ΄ λ§λ”μ§€ ν™•μΈν•μ—¬ μΈμ¦ κ³Όμ • μ²λ¦¬ -> **μΈκ°€(Authorization)**

> π’΅**μ©μ–΄ μ •λ¦¬**  
> \- **μΈμ¦(Authentication)**: μμ‹ μ΄ λ„κµ¬μΈμ§€ μ¦λ…ν•κ³  κ²€μ¦ν•λ” κ³Όμ • (λ΅κ·ΈμΈ)  
> \- **μΈκ°€(Authorization)**: μΈμ¦ μ‘μ—… μ΄ν›„μ— μΈμ¦λ μ‚¬μ©μμ— λ€ν• μμ› μ ‘κ·Ό ν™•μΈ λ° ν—κ°€ μ μ°¨ (κ¶ν• ν™•μΈ)

-   **μ¥μ **
    -   ν† ν° μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ €μ¥ν•κΈ° λ•λ¬Έμ— stateless(λ¬΄μƒνƒ)ν•λ©°, μ„λ²„ ν™•μ¥μ— μ©μ΄ (μ„λ²„ λ¶€λ‹΄ X)
    -   ν† ν°μ€ ν• λ² λ°κΈ‰λλ©΄ μ ν¨κΈ°κ°„μ΄ λ§λ£λ  λ•κΉμ§€ κ³„μ† μ‚¬μ© κ°€λ¥
    -   ν† ν°μ—λ” κΈ°λ³Έ μ •λ³΄, μ „λ‹¬ν•  μ •λ³΄, ν† ν°μ΄ κ²€μ¦λμ—λ‹¤λ” μ„λ… λ“± ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό μμ²΄μ μΌλ΅ μ§€λ‹κ³  μμ
    -   headerμ™€ payloadλ¥Ό κ°€μ§€κ³  signatureμ„ μƒμ„±ν•λ―€λ΅ λ°μ΄ν„° μ„λ³€μ΅° λ°©μ§€
-   **λ‹¨μ **
    -   μΏ ν‚¤/μ„Έμ…κ³Ό λ‹¤λ¥΄κ² ν† ν° μμ²΄μ λ°μ΄ν„° κΈΈμ΄κ°€ κΈΈμ–΄, μΈμ¦ μ”μ²­μ΄ λ§μ•„μ§μλ΅ λ„¤νΈμ›ν¬ λ¶€ν• λ°μƒ
    -   Payload μμ²΄λ” μ•”νΈν™”λμ§€ μ•κΈ° λ•λ¬Έμ— μ μ €μΒ μ¤‘μ”ν• μ •λ³΄λ” λ‹΄μ„ μ μμ
    -   ν† ν°μ„ νƒμ·¨ λ‹Ήν•  κ²½μ° λ€μ²κ°€ μ–΄λ ¤μ›€

</br>

### **ν† ν° μΈμ¦ κ³Όμ •**

![image](https://user-images.githubusercontent.com/64777557/218026980-4ddd35ef-764f-49c4-a8fd-93f4dedd7cef.png)

1.  μ‚¬μ©μκ°€ μ•„μ΄λ””μ™€ λΉ„λ°€λ²νΈλ΅ λ΅κ·ΈμΈ
2.  μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ(μ‚¬μ©μ)μ—κ² ν† ν°μ„ λ°κΈ‰
3.  ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„ μΈ΅μ—μ„ μ „λ‹¬λ°›μ€ ν† ν°μ„ μΏ ν‚¤λ‚ μ¤ν† λ¦¬μ§€μ— μ €μ¥
4.  μ„λ²„μ— μ”μ²­ μ‹λ§λ‹¤ ν•΄λ‹Ή ν† ν°μ„ HTTP μ”μ²­ ν—¤λ”μ— ν¬ν•¨μ‹μΌ μ „λ‹¬
5.  μ„λ²„λ” μ „λ‹¬λ°›μ€ ν† ν°μ„ κ²€μ¦ν•κ³ , μ”μ²­μ— μ‘λ‹µ

</br>

### **JWT (JSON Web Token)**

<img src="https://user-images.githubusercontent.com/64777557/218027055-4183625f-1dd3-4a04-ac76-067e5c72254a.png" width=700>

-   μΈμ¦μ— ν•„μ”ν• μ •λ³΄λ“¤μ„ μ•”νΈν™”μ‹ν‚¨ JSON ν† ν°μ„ μλ―Έ
-   JWT ν† ν°μ€ μ (.)μΌλ΅ κµ¬λ¶„λ Header, Payload, Signatureλ΅ κµ¬μ„±
    1.  **Header(ν—¤λ”)**: λ³΄ν†µ ν† ν°μ νƒ€μ…μ΄λ‚ μ„λ… μƒμ„±μ— μ–΄λ–¤ μ•κ³ λ¦¬μ¦μ΄ μ‚¬μ©λμ—λ”μ§€ μ €μ¥
    2.  **Payload(λ‚΄μ©)**:Β  μ‚¬μ©μ κ¶ν• μ •λ³΄μ™€ μ‹¤μ λ΅ μ‚¬μ©λ  μ •λ³΄(JWTλ¥Ό ν†µν•΄ μ• μ μλ” λ°μ΄ν„°)λ¥Ό μ €μ¥
    3.  **Signature(μ„λ…)**: 'Header+Payload'μ™€ μ„λ²„κ°€ κ°€μ§€κ³  μλ” μ μΌν• Keyκ°’μ„ ν—¤λ”μ—μ„ μ •μν• μ•κ³ λ¦¬μ¦μΌλ΅ μ•”νΈν™”ν• κ°’ (λΉ„λ€μΉ­ μ•”νΈν™”) -> Authorization(μΈκ°€) μ‘μ—…μΌλ΅ ν† ν°μ μ ν¨μ„± κ²€μ¦ μ‹ μ‚¬μ©

</br></br>

## **μ„λ²„(μ„Έμ…) κΈ°λ° μΈμ¦**

![image](https://user-images.githubusercontent.com/64777557/218027077-bf950087-946d-4e98-b963-a20c14f9f370.png)

-   ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ† μ‹ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ(μ‚¬μ©μ)μ μ •λ³΄λ¥Ό μ„λ²„μ μ„Έμ… μ €μ¥μ†μ— μ €μ¥ ν›„ μ„Έμ…ID λ°κΈ‰ \-> **μΈμ¦(Authentication)**
-   ν΄λΌμ΄μ–ΈνΈλ” λ λ‹¤μ‹ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚Ό λ• λ°κΈ‰λ°›μ€ μ„Έμ…IDμ„ μ”μ²­ ν—¤λ”μ™€ ν•¨κ» μ „μ†΅
-   μ„λ²„λ” ν—¤λ” λ‚΄ μ„Έμ…IDλ¥Ό ν†µν•΄ μ„Έμ… μ €μ¥μ†μ— μ ‘κ·Όν• ν›„ μ„Έμ…IDμ— ν•΄λ‹Ήν•λ” μ„Έμ… μ •λ³΄κ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•μ—¬ μΈμ¦ κ³Όμ • μ²λ¦¬ \->Β **μΈκ°€(Authorization)**

-   **μ¥μ **
    -   λ¨λ“  μΈμ¦ μ •λ³΄λ¥Ό μ„λ²„μ—μ„ κ΄€λ¦¬ν•κΈ° λ•λ¬Έμ— λ³΄μ•μ„±μ΄ λ†’μΒ 
-   **λ‹¨μ **
    -   μ„λ²„ μΈ΅ (μ„Έμ… μ €μ¥μ†)μ—μ„ μ •λ³΄κ°€ μ €μ¥λλ―€λ΅ μ”μ²­μ΄ λ§μ•„μ§€λ©΄ μ„λ²„ λ¶€ν•κ°€ μ‹¬ν•΄μ§
    -   κ³µκ²©μκ°€ μ„Έμ…IDλ¥Ό νƒμ·¨ν•μ—¬ μ •μƒ ν΄λΌμ΄μ–ΈνΈμΈ μ²™ μ„μ¥ κ°€λ¥Β 
    -   μ„λ²„ ν™•μ¥ μ‹ μ„Έμ… λ¶„μ‚° μ‘μ—…μ΄ μ–΄λ ¤μ›€
