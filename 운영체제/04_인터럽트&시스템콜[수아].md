## μ»¤λ„ λ¨λ“(Kernel Mode)μ™€ μ‚¬μ©μ λ¨λ“(User Mode)
ν•λ“μ›¨μ–΄μ μΈ λ³΄μ•μ€ μ μ§€ν•κΈ° μ„ν•΄ 2κ°€μ§€ λ¨λ“λ΅ μ΄μ               
CPU λ‚΄λ¶€μ mode bitμΌλ΅ κµ¬λ¶„ (0* : μ»¤λ„ λ¨λ“ / 1* : μ‚¬μ©μ λ¨λ“)

![image](https://user-images.githubusercontent.com/63537847/220831420-f8b8768e-c2a0-450b-9498-9c18396dad83.png)


### μ»¤λ„ λ¨λ“(Kernel Mode)
- `OS`κ°€ μ΅΄μ¬ν•λ” λ¶€λ¶„μ„ PC registerκ°€ κ°€λ¦¬ν‚¤κ³  μλ” κ²½μ° 
- μ΄μμ²΄μ μ—μ„ μ½”λ“ μ‹¤ν–‰μ¤‘μΈ μƒνƒ 
- CPUλ” μ»¤λ„ λ¨λ“μ—μ„ μν–‰μ¤‘ 
- `λ¨λ“  μΆ…λ¥μ λ…λ Ή` λ‹¤ μ‹¤ν–‰ν•  μ μμ 

### μ‚¬μ©μ λ¨λ“(User Mode)
- μ‚¬μ©μκ°€ μ¬λΌκ°€ μλ” `λ©”λ¨λ¦¬μ μ„μΉ`λ¥Ό PC registerκ°€ κ°€λ¦¬ν‚¤κ³  μλ” κ²½μ° 
- μ‚¬μ©μκ°€ ν”„λ΅κ·Έλ¨ μν–‰μ¤‘μΈ μƒνƒ 
- CPUλ” μ μ € λ¨λ“μ—μ„ μν–‰μ¤‘
- `μ ν•μ μΈ λ…λ Ή`λ§ μν–‰ (μ‹μ¤ν…μ— μ¤‘μ”ν• μν–¥μ„ λ―ΈμΉλ” μ—°μ‚° β) 

</br> 

## μΈν„°λ½νΈ(Interrupt) 
### β“ μΈν„°λ½νΈλ€? 
- μ‹μ¤ν…μ—μ„ λ°μƒν• λ‹¤μ–‘ν• μΆ…λ¥μ μ΄λ²¤νΈ νΉμ€ κ·Έλ° μ΄λ²¤νΈλ¥Ό μ•λ¦¬λ” λ©”μ»¤λ‹μ¦ 
- CPUκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  μμ„ λ•, μμ™Έμƒν™©μ΄ λ°μƒν•μ—¬ μ²λ¦¬κ°€ ν•„μ”ν• κ²½μ° λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„μ— μ•λ ¤ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ” κ²ƒ 
- CPU λ‚΄μ— μλ” `μΈν„°λ½νΈ λΌμΈ` μ„Έν…ν•΄μ„ μΈν„°λ½νΈ λ°μƒμ‹ν‚΄ 
  β‡’ CPUλ” λ§¤λ² λ…λ Ή μν–‰ν•κΈ° μ „μ— μΈν„°λ½νΈ λΌμΈμ΄ μ„Έν…λμ–΄μλ”μ§€ ν™•μΈν•¨ 

#### π’΅ μΆ…λ¥ 
1. ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ 
    - ν•λ“μ›¨μ–΄κ°€ λ°μƒμ‹ν‚¤λ” μΈν„°λ½νΈ 
    - CPUκ°€ μ•„λ‹ λ‹¤λ¥Έ ν•λ“μ›¨μ–΄ μ¥μΉκ°€ CPUμ— μ–΄λ–¤ μ‚¬μ‹¤μ„ μ•λ ¤μ£Όκ±°λ‚ CPU μ„λΉ„μ¤ μ”μ²­ν•  κ²½μ° λ°μƒ 
    - CPUμ `ν•λ“μ›¨μ–΄ μ‹ νΈ`μ— μν•΄ λ°μƒ 
2. μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ 
    - μ†ν”„νΈμ›¨μ–΄κ°€ λ°μƒμ‹ν‚¤λ” μΈν„°λ½νΈ 
    - μ¤μ¤λ΅ μΈν„°λ½νΈ λΌμΈμ„ μ„Έν… ex)μμ™Έ, system call 
    - `λ…λ Ήμ–΄μ μν–‰`μ— μν•΄ λ°μƒ 

### μΈν„°λ½νΈ λ°μƒ μ²λ¦¬ κ³Όμ • 
> ex) process A μ‹¤ν–‰ μ¤‘ λ””μ¤ν¬μ—μ„ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λΌλ” λ…λ Ήμ„ λ°›μ•μ„ λ• 
1. process Aκ°€ `system call`μ„ ν†µν•΄ μΈν„°λ½νΈ λ°μƒμ‹ν‚΄ 
2. CPUκ°€ μ§„ν–‰ν•λ μ½”λ“λ¥Ό μ¤‘μ§€ν•¨ 
3. λ©μ¶ μƒνƒλ¥Ό processμ PCB(Process Control Block)μ— μ €μ¥ 
4. PC(Program Counter, IP)μ— λ‹¤μμ— μ‹¤ν–‰ν•  λ…λ Ήμ μ£Όμ†λ¥Ό μ €μ¥
5. μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³  ISR μ£Όμ†κ°’μ„ μ–»μ–΄ ISR(Interrupt Service Routine)λ΅ μ ν”„ν•μ—¬ λ£¨ν‹΄μ„ μ‹¤ν–‰
6. ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•κ³  μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄, λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„°λ¥Ό λ³µμ›
7. ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ 
8. λ€ν”Όμ‹ν‚¨ PCκ°’ λ³µμ›ν•΄μ„ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µκ·€

![image](https://user-images.githubusercontent.com/63537847/220826845-c1038dbb-7f1a-4e97-b405-342c6c0793c9.png)

## MCU(λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„)μ—μ„ μ…λ ¥ λ°›μ•„λ“¤μ΄λ” λ°©λ²• 
- CPU(ν”„λ΅μ„Έμ„)μ™€ μ…μ¶λ ¥ μ¥μΉμ ν†µμ‹  λ°©μ‹ 
### 1οΈβƒ£ ν΄λ§ λ°©μ‹ 
- νΉμ • μ£ΌκΈ°λ§λ‹¤ μ¤λ λ“ λλ©΄μ„ μ‹κ·Έλ„ μ—¬λ¶€ ν™•μΈν•λ” λ°©μ‹ 
- μ†ν”„νΈμ›¨μ–΄μ μΌλ΅ μ‹κ·Έλ„ ν™•μΈ
- μΈν„°λ½νΈ μ”μ²­ ν”λκ·Έλ¥Ό μ°¨λ΅€λ΅ λΉ„κµν•μ—¬ μ°μ„ μμ„κ°€ κ°€μ¥ λ†’μ€ μΈν„°λ½νΈ μμ›μ„ μ°Ύμ•„ μ΄μ— λ§λ” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μν–‰

π”µ **μ¥μ ** 
1. κµ¬ν„μ΄ μ‰¬μ›€ 
2. μ°μ„ μμ„ λ³€κ²½ μ©μ΄ 

π”΄ **λ‹¨μ ** 
1. ν΄λ§μ„ ν•λ” μ‹κ°„μ—λ” μ›λ ν•λ μΌμ— μ§‘μ¤‘ν•  μκ°€ μ—†κ² λμ–΄ λ§μ€ κΈ°λ¥μ„ μ λ€λ΅ μν–‰ν•κΈ° μ–΄λ ¤μ›€ 
2. λ¦¬μ†μ¤λ¥Ό λ§μ΄ λ¨Ήμ 
3. νΉμ • μ£ΌκΈ°λ§λ‹¤ ν™•μΈν•κΈ° λ•λ¬Έμ— μ‹κ·Έλ„μ΄ λ“¤μ–΄μ¤λ” μ •ν™•ν• νƒ€μ΄λ°μ„ λ¨λ¦„ 

### 2οΈβƒ£ μΈν„°λ½νΈ λ°©μ‹ 
- μ™Έλ¶€μ μΈν„°λ½νΈ ν•€μ— μ‹ νΈκ°€ λ“¤μ–΄μ¤λ©΄ μ¦‰μ‹ μΈν„°λ½νΈ μ†μ¤ μ‹¤ν–‰ν• λ’¤ λ°”λ΅ μ›λμ μ½”λ“λ΅ λμ•„μ¤λ” λ°©μ‹ 
- ν•λ“μ›¨μ–΄μ μΌλ΅ μ‹κ·Έλ„ ν™•μΈ 
- μ‹ μ†ν•κ² λ€μ‘ν•κΈ° λ•λ¬Έμ— μ‹¤μ‹κ°„ λ€μ‘μ΄ ν•„μ”ν• κ²½μ°μ—λ” ν•„μμ μΈ κΈ°λ¥ 
- μ»¤λ„μ interrupt handlerκ°€ μΈν„°λ½νΈ ν™•μΈν•κ³ , interrupt threadμ— λ°μƒν–λ‹¤κ³  μ•λ ¤μ¤ 

π”µ **μ¥μ ** 
1. μ‹κ·Έλ„μ΄ λ“¤μ–΄μ¨ μ •ν™•ν• νƒ€μ΄λ° μ• μ μμ (λΉ λ¥Έ λ°μ‘ μ‹κ°„)
2. μ‹μ¤ν… λ¶€ν• μ μ (μΈν„°λ½νΈ λ°μƒν–μ„ λ•λ§ μ²λ¦¬ν•΄μ„) 

π”΄ **λ‹¨μ ** 
1. κµ¬ν„μ΄ λ³µμ΅ν•¨

</br>

## μ‹μ¤ν…μ½(System Call) 
### β“ μ‹μ¤ν…μ½μ΄λ€? 
- ν”„λ΅κ·Έλ¨μ΄ OS μ»¤λ„μ΄ μ κ³µν•λ” μ„λΉ„μ¤λ¥Ό μ΄μ©(ν•λ“μ›¨μ–΄μ— μ§μ ‘ μ ‘κ·Ό)ν•κ³  μ‹¶μ„ λ• μ‹μ¤ν… μ½μ„ ν†µν•΄ μ‹¤ν–‰  
- μ‹μ¤ν…μ½μ€ μ—¬λ¬ μΆ…λ¥μ κΈ°λ¥μ΄ μμ 
- κ° μ‹μ¤ν… μ½μ€ λ²νΈκ°€ ν• λ‹Ήλκ³  μ‹μ¤ν…μ½ μΈν„°νμ΄μ¤λ” λ²νΈμ™€ μ‹μ¤ν…μ½ ν•Έλ“¤λ¬ ν•¨μμ μ£Όμ†λ΅ κµ¬μ„±λλ” ν…μ΄λΈ”μ„ μ μ§€ν•¨ 
- μ‘μ—…μ΄ μ™„λ£λλ©΄ CPUμ— μΈν„°λ½νΈ λ°μƒμ‹μΌ μν–‰ μ™„λ£λ¨ μ•λ¦Ό 

### μ¶”κ°€ μ •λ³΄ λ§¤κ°λ³€μ OSμ— μ „λ‹¬ν•λ” λ°©λ²• 
1. λ§¤κ°λ³€μ CPU λ μ§€μ¤ν„° λ‚΄μ— μ „λ‹¬ (BUT λ§¤κ°λ³€μ κ°μκ°€ λ μ§€μ¤ν„° κ°μλ³΄λ‹¤ λ§μ„ μ μμ) 
2. λ§¤κ°λ³€μλ¥Ό λ©”λ¨λ¦¬μ— μ €μ¥ β†’ λ©”λ¨λ¦¬ μ£Όμ†κ°€ λ μ§€μ¤ν„°μ— μ „λ‹¬ 
3. ν”„λ΅κ·Έλ¨μ— μν•΄ stackμΌλ΅ push 
> λ§¤κ°λ³€μμ κ°μλ‚ κΈΈμ΄μ— μ ν•μ΄ μ—†κΈ° λ•λ¬Έμ— 2λ², 3λ² λ°©μ‹ μ„ νΈ 

### μ‹μ¤ν…μ½ μ ν• 
1οΈβƒ£ ν”„λ΅μ„Έμ¤ μ μ–΄(Process Control)           
   
   - ν”„λ΅μ„Έμ¤ μƒμ„± λ° μΆ…λ£
   - λ©”λ¨λ¦¬μ— λ΅λ“, μ‹¤ν–‰
   - ν”„λ΅μ„Έμ¤ μ†μ„± κ°’ ν™•μΈ, μ§€μ •
   - wait μ΄λ²¤νΈ, signal μ΄λ²¤νΈ
   - λ©”λ¨λ¦¬ ν• λ‹Ή

2οΈβƒ£ νμΌ μ΅°μ‘(File Manipulation)        
 
   - νμΌ μƒμ„±, νμΌ μ‚­μ 
   - μ—΄κΈ°, λ‹«κΈ°
   - μ½κΈ°, μ“°κΈ°, Reposition
   - νμΌ μ†μ„± κ°’ ν™•μΈ, μ§€μ •  

3οΈβƒ£ μ¥μΉ κ΄€λ¦¬(Device Management)           

   - λ””λ°”μ΄μ¤ μ”μ²­ λ° ν•΄μ 
   - μ½κΈ°, μ“°κΈ°, Reposition
   - λ””λ°”μ΄μ¤ μ†μ„± ν™•μΈ, μ§€μ •
   - λΉ„ λ¬Όλ¦¬μ μΈ λ””λ°”μ΄μ¤ ν•΄μ  λ° μ¥μ°© 

4οΈβƒ£ μ •λ³΄ μ μ§€(Information Maintenance)           

   - μ‹κ°„ ν™•μΈ, μ‹κ°„ μ§€μ •
   - μ‹μ¤ν… λ°μ΄ν„° ν™•μΈ, μ§€μ •
   - ν”„λ΅μ„Έμ¤, νμΌ, λ””λ°”μ΄μ¤ μ†μ„± κ°€μ Έμ¤κΈ°
   - ν”„λ΅μ„Έμ¤, νμΌ, λ””λ°”μ΄μ¤ μ†μ„± μ„¤μ •ν•κΈ°

5οΈβƒ£ ν†µμ‹ (Communication)           

   - μ»¤λ®¤λ‹μΌ€μ΄μ… μ—°κ²° μƒμ„± λ° μ‚­μ 
   - λ©”μ‹μ§€ μ†΅μ‹ , μμ‹ 
   - μƒνƒ μ •λ³΄ μ „λ‹¬
   - remote λ””λ°”μ΄μ¤ ν•΄μ  λ° μ¥μ°©

6οΈβƒ£ λ³΄μ•(Security)          

   - Permission νλ“
   - Permission μ„¤μ •


</br>
</br>

> μ°Έκ³              
> https://velog.io/@adam2/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8              
> https://kkhipp.tistory.com/155           
> https://gyoogle.dev/blog/computer-science/operating-system/Interrupt.html            
> https://luckyyowu.tistory.com/133                 
> https://kosaf04pyh.tistory.com/196
