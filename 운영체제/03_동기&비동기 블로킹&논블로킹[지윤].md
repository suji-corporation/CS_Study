## **동기/비동기? 블로킹/논블로킹?**

동기와 비동기, 블로킹과 논블로킹의 개념은 유사하게 느껴질 수 있지만 서로 바로보는 관점을 달리하고 있다.

**동기/비동기**는 **일을 처리하는 순서(시점)와 결과(처리)** 와 관련있는 개념으로 이전 작업 종료와 동시에 시작하면 **동기**, 그렇지 않으면 **비동기로** 구분한다.

**블로킹/논블로킹**은 **제어권**과 관련있는 개념으로 함수 호출 시 제어권이 넘어가면 **블로킹**, 그렇지 않고 자신의 할일을 지속하면 **논블로킹**으로 구분한다.

</br>

### **동기(Synchronous)**

![image](https://user-images.githubusercontent.com/64777557/220551215-2dcda401-e8d4-4b69-b2d3-f9bbe0b715b1.png)

-   작업을 동시에 수행하거나 동시에 끝나거나 끝나는 동시에 시작함
    -   요청 작업의 종료 시점과 나머지 작업 요청 시작 시점의 동시성
-   호출한 함수의 작업 완료 응답이 필요해 작업 완료 여부를 계속해서 묻거나 응답을 기다림
-   호출한 함수의 작업 완료 여부에 대해 계속해서 관심을 갖음
-   응답(리턴값)에 대해 즉각적으로 처리

</br>

### **비동기(Asynchronous)**

![image](https://user-images.githubusercontent.com/64777557/220551243-ac6c811c-5433-4b56-86bd-388a6f7bf591.png)

-   요청 작업의 종료와 다른 요청의 시작 시점이 일치하지 않으며 끝나는 동시에 시작하지 않음
-   함수를 호출하여 실행만 시킬 뿐 작업의 완료 여부에는 관심을 갖지 않으며 자신의 작업을 계속해서 이어감
-   응답(리턴값)에 대한 처리는 즉각적으로 이루어질 수도, 이루어지지 않을 수도 있음(나중에 처리)
-   요청 및 함수 호출 시 콜백 함수를 함께 전달하고, 응답이 준비되면 함께 보낸 콜백 함수가 실행됨

</br>

### **블로킹(Blocking)**

<img src="https://user-images.githubusercontent.com/64777557/220551282-27558c74-61eb-4d1d-9a44-9fe772640d61.png" width="400">

-   A 함수가 B 함수를 호출하면 A는 B에게 제어권을 넘겨주고, B는 자신의 작업이 끝날 때까지 제어권을 가지고 있음
-   A 함수는 B 함수의 실행이 끝날 때까지 멈추고 기다림
-   B 함수가 수행을 완료해서 제어권을 다시 A함수에게 넘겨주면 A 함수는 자신의 작업을 다시 실행

</br>

### **논블로킹(Non-Blocking)**

<img src="https://user-images.githubusercontent.com/64777557/220551315-c41334c9-d019-45ce-8a21-c5a2e21a5124.png" width="400">

-   A 함수가 B 함수를 호출하면 제어권은 넘어가지 않은 채 B 함수가 실행
    -   함수 호출 시 제어권이 B함수에게 넘어가지만 바로 A 함수에게 넘어간다고 보는 레퍼런스도 있지만 어찌됐든 핵심은 호출된 함수가 실행 중일 때도 제어권을 가지고 있다는 사실임
-   A 함수는 여전히 제어권을 가지고 있으므로 B 함수의 실행/종료 여부와 관계없이 계속해서 자신의 작업 수행

</br></br>

## **동기/비동기 + 블로킹/노블로킹 조합**

![image](https://user-images.githubusercontent.com/64777557/220551352-8f09e107-7331-4eff-99e1-24d40b08d33b.png)

</br>

### **1) Sync-Blocking**

<img src="https://user-images.githubusercontent.com/64777557/220551378-bf2cce0b-da52-4198-bc27-fc1e71e1007f.png" width="400">

-   A 함수는 B 함수를 호출하며 제어권을 넘겨주고(**블로킹**), 함수 B의 리턴값을 기다림(**동기**)
-   A 함수는 B 함수의 리턴값과 제어권을 기다리며 아무것도 하지 않음

</br>

### **2) Sync-Nonblocking**

<img src="https://user-images.githubusercontent.com/64777557/220551397-a3d254dc-9a8a-4f23-86e6-723c70d8abd0.png" width="400">

-   A 함수는 B 함수를 호출하며 제어권을 넘기지 않고 자신의 작업을 계속 수행함(**논블로킹**)
-   A 함수는 B 함수의 리턴값이 필요하기 때문에 자신의 작업 실행 중간중간 B 함수의 종료 여부를 물어서 확인함(**동기**)
-   대표적 예) Polling

</br>

### **3) Async-Nonblocking**

<img src="https://user-images.githubusercontent.com/64777557/220551429-dda5d9b8-2291-42b3-ae67-d4d800619690.png" width="370">

-   A 함수는 B 함수를 호출하며 제어권을 넘기지 않고 자신의 작업을 계속 수행함(**논블로킹**)
-   A 함수는 B 함수 호출 시 콜백 함수를 넘겨주며 B 함수의 종료 여부에 관심을 갖지 않음(**동기**)
-   B 함수는 자신의 작업이 완료되면 A 함수가 준 콜백 함수를 실행(**동기**)

</br>

### **4) Async-Blocking**

<img src="https://user-images.githubusercontent.com/64777557/220551449-380408b1-7624-4e4e-9d15-980d45ca78e1.png" width="400">

-   A 함수는 B 함수를 호출하며 B 함수의 종료 즉, 리턴값에 신경쓰지 않으며 콜백 함수 만을 보냄(**비동기**)
-   A 함수는 B 함수의 작업에 관심이 없지만 제어권을 넘겨 B 함수가 종료될 때까지 기다림(**블로킹**)
